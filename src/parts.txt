//table of function pointers for the functions that take a char* as an argument and return an int
//the char* is for the argument
int (*fptr[])(char*)={(int(*)()) 
    get,put,ls,cd,pwd,mymkdir,myrmdir,rm,lcat,lls,lcd,lpwd,lmkdir,lrmdir,lrm
};


char* tokenize(char* cmdLine) {
    printf("Tokenize\n");
    int i = 0;
    char* result = NULL;
    while (cmdLine[i]) {
        if (cmdLine[i] == ' ') {
            result = &(cmdLine[i+1]);
            cmdLine[i] = '\0';
            break;
        }
        ++i;
    }
    printf("cmdLine: %s result: %s\n", cmdLine, result);
    return result;
}

int executeCommand(char* cmdLine) { 
    if (cmdLine == NULL) {
        printf("ERROR: NULL command\n");
        return -1;
    }
    char* filename = tokenize(cmdLine);     
    if (filename == NULL) {
        printf("Filename is NULL\n");
    }
    int cmdIndex = findCmd(cmdLine);
    if (cmdIndex >= 0) {
        int r = fptr[cmdIndex](filename);   //calls the function at the given command index for a command with the filename if applicable
        printf("r=%d\n", r);
    } else {
        printf("Error: command %s not found\n", cmdLine);
    }
    printf("end of processCommand\n");
}
